<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Ornate Anniversary Quest</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fca5a5; /* Soft Rose Background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
            background-image: radial-gradient(#fee2e2 1px, transparent 1px);
            background-size: 10px 10px;
        }
        .game-container {
            max-width: 90%;
            width: 450px;
            box-shadow: 0 15px 30px -8px rgba(136, 19, 55, 0.7); 
            border: 4px solid #be185d; /* Dark Pink Border */
            transition: all 0.5s ease-in-out;
            position: relative; /* Needed for absolute Cupid positioning */
        }
        .btn-primary {
            background-color: #be185d; /* Ruby Pink */
            color: white;
            padding: 0.85rem 2rem;
            border-radius: 0.75rem;
            font-weight: 700;
            box-shadow: 0 4px #881337;
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.1s;
        }
        .btn-primary:hover:not(:disabled) {
            background-color: #881337;
            transform: translateY(1px);
            box-shadow: 0 3px #500e21;
        }
        .btn-primary:active:not(:disabled) {
            transform: translateY(4px);
            box-shadow: none;
        }
        .btn-primary:disabled {
            background-color: #fecdd3;
            color: #881337;
            cursor: not-allowed;
            box-shadow: none;
        }
        .input-text {
            border: 3px solid #be185d;
            padding: 0.9rem;
            border-radius: 0.75rem;
            transition: border-color 0.3s, box-shadow 0.3s;
            background-color: #fef3c7; /* Light Gold tint for input */
        }
        .input-text:focus {
            outline: none;
            border-color: #881337;
            box-shadow: 0 0 0 3px #fca5a5;
        }
        .card-enter {
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Cupid Animation */
        .cupid-float {
            position: absolute;
            top: -30px; /* Position above the container */
            left: 50%;
            transform: translateX(-50%);
            font-size: 4rem;
            animation: float 4s ease-in-out infinite;
        }
        @keyframes float {
            0% { transform: translate(-50%, 0); }
            50% { transform: translate(-50%, -10px); }
            100% { transform: translate(-50%, 0); }
        }
    </style>
</head>
<body>

<div id="game-app" class="game-container bg-white p-8 rounded-2xl text-center">

    <!-- The Floating Cupid -->
    <div class="cupid-float" aria-hidden="true">
        ğŸ’˜
    </div>

    <h1 class="text-4xl font-black text-[#881337] mb-4 border-b-2 border-[#fca5a5] pb-2">â¤ï¸ Our 2nd Anniversary Love Quest â¤ï¸</h1>
    <p class="text-gray-600 mb-6 font-semibold">Answer these questions about our journey to unlock your surprise!</p>

    <!-- Question/Clue Display -->
    <div id="current-card" class="card-enter">
        <p id="question-text" class="text-2xl font-bold text-[#be185d] mb-8 leading-relaxed"></p>

        <!-- Input Form -->
        <div id="input-area" class="space-y-4 mb-6">
            <input type="text" id="answer-input" class="input-text w-full text-center text-gray-800" placeholder="Type your simple answer here">
            <p id="error-message" class="text-sm text-red-600 font-bold hidden">Oops! Not quite right. Try recalling the exact word.</p>
        </div>
        
        <button id="submit-button" class="btn-primary w-full" onclick="checkAnswer()">Submit Answer</button>
    </div>

    <!-- Result Display (Hidden initially) -->
    <div id="final-result" class="hidden card-enter">
        <h2 class="text-4xl font-extrabold text-[#881337] mb-4">ğŸ‘‘ You Passed the Test! ğŸ‘‘</h2>
        <p class="text-2xl font-bold text-gray-800 mb-6">
            Two beautiful years and counting!
        </p>
        <div id="secret-message" class="bg-red-50 p-6 rounded-lg text-gray-700 text-left border-4 border-dashed border-[#fca5a5]">
            <p class="font-black mb-3 text-[#be185d] text-xl">Your Anniversary Surprise Awaits:</p>
            <p id="result-text" class="text-lg leading-loose"></p>
        </div>
    </div>
</div>

<script>
    // --- GAME CONFIGURATION ---
    const QUESTIONS = [
        {
            question: "Where did we first meet? ğŸ§¸â¤ï¸",
            answers: ["internationalstore"], // Answer: Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¯ÙˆÙ„ÙŠ
            open: false
        },
        {
            question: "What color was the underwear I gave you? ğŸ©²ğŸ™ˆ",
            answers: ["pink", "powder"], // Answers: ÙˆØ±Ø¯ÙŠ Ø£Ùˆ Ø¨ÙˆØ¯Ø±ÙŠ (Pink or Powder)
            open: false
        },
        {
            question: "What was the first show we watched together in the hospital? ğŸ‘©ğŸ»â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ğŸ»",
            answers: ["midnightgospel"], // Answer: Midnight Gospel
            open: false
        },
        {
            question: "What did our first kiss taste like? ğŸ’‹",
            answers: ["*"], // OPEN ANSWER: Accepts any non-empty input
            open: true
        }
    ];

    // --- FINAL REWARD MESSAGE ---
    // IMPORTANT: Customize this message with the real clue!
    const FINAL_MESSAGE = "Congratulations, my love! You are the best partner ever ğŸ«‚ Can't wait to fill your face with a lot of smooches ğŸ’‹ğŸ’‹ğŸ’‹ Happy 2nd Anniversary sweetie! I love you so much.";
    // ----------------------------

    let currentQuestionIndex = 0;

    const questionText = document.getElementById('question-text');
    const answerInput = document.getElementById('answer-input');
    const submitButton = document.getElementById('submit-button');
    const errorMessage = document.getElementById('error-message');
    const currentCard = document.getElementById('current-card');
    const finalResult = document.getElementById('final-result');
    const resultText = document.getElementById('result-text');

    /**
     * Cleans and normalizes the user input for comparison.
     * Converts to lowercase and removes all non-alphanumeric characters (except spaces for open text).
     * Since the configured answers are single, simple English words, we aggressively remove spaces/symbols too.
     * @param {string} text - The input text to clean.
     * @returns {string} The cleaned, normalized text.
     */
    function normalize(text) {
        return text.toLowerCase().trim().replace(/[^a-z0-9]/g, '');
    }

    /**
     * Loads the current question into the UI.
     */
    function loadQuestion() {
        if (currentQuestionIndex < QUESTIONS.length) {
            const question = QUESTIONS[currentQuestionIndex];
            
            // Apply card entrance animation
            currentCard.classList.remove('card-enter');
            void currentCard.offsetWidth; // Trigger reflow
            currentCard.classList.add('card-enter');

            questionText.textContent = question.question;
            answerInput.value = '';
            answerInput.disabled = false;
            submitButton.textContent = 'Submit Answer';
            submitButton.disabled = false;
            errorMessage.classList.add('hidden');
            
            // Adjust placeholder for the final open question
            if (question.open) {
                 answerInput.placeholder = "Your beautiful memory answer...";
            } else {
                 answerInput.placeholder = "Type your simple answer here";
            }

        } else {
            showResult();
        }
    }

    /**
     * Checks the user's answer against the correct answer(s).
     */
    function checkAnswer() {
        const currentQuestion = QUESTIONS[currentQuestionIndex];
        const userAnswer = answerInput.value.trim();
        let isCorrect = false;

        if (userAnswer === "") {
             errorMessage.textContent = "Please enter an answer!";
             errorMessage.classList.remove('hidden');
             return;
        }

        if (currentQuestion.open) {
            // For the open-ended question, any non-empty answer is correct.
            isCorrect = true;
        } else {
            // For standard questions, check against normalized answers
            const normalizedUserAnswer = normalize(userAnswer);
            isCorrect = currentQuestion.answers.includes(normalizedUserAnswer);
        }

        if (isCorrect) {
            currentQuestionIndex++;
            errorMessage.classList.add('hidden');
            
            if (currentQuestionIndex < QUESTIONS.length) {
                // Correct answer, load next question after a short delay
                submitButton.textContent = 'Correct! Next Clue...';
                submitButton.disabled = true;
                setTimeout(loadQuestion, 1200);
            } else {
                // Game complete
                answerInput.disabled = true;
                submitButton.textContent = 'Last Clue Unlocked! â¤ï¸';
                setTimeout(showResult, 1500);
            }
        } else {
            // Incorrect answer for a standard question
            errorMessage.textContent = "Oops! Not quite right love. Try recalling the exact word.";
            errorMessage.classList.remove('hidden');
            answerInput.value = ''; // Clear input on wrong answer
        }
    }

    /**
     * Shows the final result message.
     */
    function showResult() {
        currentCard.classList.add('hidden');
        finalResult.classList.remove('hidden');
        resultText.innerHTML = FINAL_MESSAGE.replace(/\n/g, '<br>');

        // Apply final result animation
        finalResult.classList.remove('card-enter');
        void finalResult.offsetWidth; // Trigger reflow
        finalResult.classList.add('card-enter');
    }

    // Event listener for pressing Enter key
    answerInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' && !submitButton.disabled) {
            event.preventDefault(); // Prevent form submission if in a form
            checkAnswer();
        }
    });

    // Initialize the game
    window.onload = loadQuestion;
</script>
</body>
</html>

